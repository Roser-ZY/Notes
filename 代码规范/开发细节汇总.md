[TOC]

## 一、入参检查

入参检查应当在开发中经常使用，以确保函数不会因为外部的不规范调用导致系统不稳定，从而避免发生程序崩溃等严重后果。

入参检查的形式有很多种，根据开发场景应当选择不同的检查策略。

### 1.1 限制在 *Debug* 模式下的 *ASSERT()* 检查

这种方式适合用于**内部接口开发**，在开发过程中采用 *Debug* 模式，生成 *Release* 版本发布时清除 *ASSERT()* 。这种方法简便且能提高开发效率，减少排查耗时，并且能够**一定程度**保证发布时不会存在调用异常的情况（因为可能在 *Debug* 模式下有些函数没有被调用，需要良好的单元测试支持）。

但是这种方式**不应用于允许错误入参的函数，即对错误入参有一定容忍度的函数**。

### 1.2 手动检查并返回错误码或抛出异常

手动检查入参是否符合要求，这种方法会被带入到 *Release* 版本，适用于**外部接口开发**。这种方法同样能够提高开发效率，但**需要注意处理错误码和异常**，否则仍然可能出现调用不规范导致的系统波动。

在错误码和异常正确处理的情况下，能够**极大程度**保证发布时的调用异常不会导致严重后果（若存在遗漏的错误码和异常处理，仍然会有风险，需要良好的单元测试支持）。

### 1.3 隐式检查

与 1.2 类似，只不过会在函数开头调用其他方法，这些方法会对入参进行检查，因此不需要显式书写检查代码。
